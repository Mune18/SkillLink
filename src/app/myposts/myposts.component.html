<div class="main-container">
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <img src="skill-high-resolution-logo.png" alt="Logo" width="120px" height="auto" />
    </div>
    <nav class="nav">
      <a href="/home">Home</a>
      <a href="/posts">My Posts</a>
    </nav>
    <div class="search-bar">
      <input type="text" placeholder="Search" class="search-input" />
      <button class="search-button">
        <mat-icon>search</mat-icon>
      </button>
    </div>
    <div class="profile" (click)="toggleDropdown()" [class.active]="isDropdownOpen">
      <span>Rodge Romer Muni</span>
      <mat-icon>keyboard_arrow_down</mat-icon>
      <div class="dropdown-menu" *ngIf="isDropdownOpen">
        <ul>
          <li><mat-icon>person</mat-icon>Profile</li>
          <li><mat-icon>logout</mat-icon>Log Out</li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Content Section -->
  <div class="content">
    <!-- Profile Sidebar -->
    <aside class="profile-sidebar">
      <mat-card class="profile-card">
        <div class="profile-avatar"></div>
        <div class="profile-info">
          <h2>Rodge Romer Muni</h2>
          <p>Student at Gordon College, Olongapo City</p>
        </div>
      </mat-card>
    </aside>

    <!-- Posts Section -->
    <section class="posts-section">
      <mat-card class="post-input-card">
        <div class="post-input-header">
          <div class="post-avatar"></div>
          <input
            type="text"
            class="post-input"
            placeholder="Create a post"
            (click)="openPostModal()"
          />
        </div>
        <div class="post-options">
          <button class="post-option">
            <mat-icon class="photo-icon">photo</mat-icon>
            Photo
          </button>
        </div>
      </mat-card>

      <!-- Iterate over posts array -->
      <mat-card class="post-card" *ngFor="let post of posts">
        <div class="post-header">
          <div class="post-avatar"></div>
          <div>
            <h3>Rodge Romer Muni</h3>
            <p>Student at Gordon College, Olongapo City</p>
            <p class="post-time">3 Days Ago</p>
          </div>
          <div class="post-menu">
            <button
              mat-icon-button
              [matMenuTriggerFor]="postMenu"
              aria-label="Post options"
            >
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #postMenu="matMenu">
              <button mat-menu-item (click)="editPost(post.id)">
                <mat-icon>edit</mat-icon>
                Edit
              </button>
              <button mat-menu-item (click)="deletePost(post.id)">
                <mat-icon>delete</mat-icon>
                Delete
              </button>
            </mat-menu>
          </div>
        </div>
        <p class="post-text">
          {{ post.content }}
        </p>
        <div class="post-image-container" *ngIf="post.image">
          <img [src]="post.image" alt="Post Image" class="post-image" />
        </div>
        <div class="post-stats">
          <span><mat-icon>thumb_up</mat-icon> 12,349 Reacts</span>
          <span><mat-icon>comment</mat-icon> 367 Comments</span>
        </div>
        <div class="post-actions">
          <button><mat-icon>thumb_up</mat-icon> Like</button>
          <button><mat-icon>comment</mat-icon> Comment</button>
          <button><mat-icon>share</mat-icon> Share</button>
        </div>
      </mat-card>
    </section>
  </div>

  <!-- Messaging Sidebar -->
  <div *ngIf="isMessagingOpen" class="messaging-sidebar">
    <div class="messaging-header">
      <h3>Messaging</h3>
      <button class="close-messaging" (click)="toggleMessaging()">Ã—</button>
    </div>
    <div class="connection-list">
      <div class="connection" (click)="openChat('John Doe')">
        <div class="connection-avatar"></div>
        <span class="connection-name">John Doe</span>
      </div>
      <div class="connection" (click)="openChat('Jane Smith')">
        <div class="connection-avatar"></div>
        <span class="connection-name">Jane Smith</span>
      </div>
    </div>
    <div class="chat-window">
      <div class="chat-header">
        <span id="chat-with">Chat with:</span>
      </div>
      <div class="chat-messages">
        <!-- Chat messages will be dynamically added here -->
      </div>
      <div class="chat-input-container">
        <input
          type="text"
          class="chat-input"
          placeholder="Type a message..."
          (keyup.enter)="sendMessage()"
        />
        <button class="send-message" (click)="sendMessage()">Send</button>
      </div>
    </div>
  </div>

  <!-- Button to reopen messaging sidebar -->
  <button class="messaging-toggle" *ngIf="!isMessagingOpen" (click)="toggleMessaging()">
    Messages
  </button>
</div>
